<!DOCTYPE html>
<html>
<head> 
<meta charset="UTF-8">
<style>
	.msg {color : #FF0000;}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

<script> // 스타일 - 태그 - 스크립트 순서

/*
input 태그값 : val() -> get(매개변수없음), val(매개값) -> set(매개변수있음)  
ex) input type = "text" value = "">

일반태그 : text(), text(매개값)
ex) <div>hello</div>

일반태그(다른태그) : html(), html(매개값)
ex) <div><span>hi</span></div>
	$('span').text(); -> 'hi'
	$('div').html(); -> <span>hi</span>
	
*****
이벤트 처리 콜백함수 안에서 this는 이벤트의 객체를 바인딩
this -> ('#id')

*/

	$(document).ready(function() { // 이벤트 : <body>~</body> 태그가 로드되고 나면 실행
		// 시작시 id입력폼에 포커스
		$('#id').focus();
	
		let allCheck = false;
	
		// id 유효성 체크
		$('#id').blur(function() {
			if($('#id').val().length < 4) { // 대부분의 스타일은 class를 참조 자바스트립트는 id를 참조
				$('#idMsg').text('ID는 4자이상이어야 합니다');
				$('#id').focus();
			} else {
				console.log($('#id').val()); // console.log($(this).val()); this뒤에 jQuery메소드를 참조하려면 $(this)
				$('#idMsg').text('');
				$('#pw').focus();
			}
		});
		
		// 비밀번호 유효성 체크
		$('#pw').blur(function() {
			if($('#pw').val().length < 4) {
				$('#pwMsg').text('비밀번호는 4자이상이어야 합니다');
				$('#pwck').focus();
			} else {
				$('pwMsg').text('');
				$('#pwck').focus();
			}
		});
	
		// pwck 유효성검사
		$('#pwck').blur(function() {
			if($('#pwck').val() != $('#pw').val()) {
				$('#pwMsg').text('비밀번호를 확인하세요');
				$('#pwck').focus();
			} else {
				$('pwMsg').text('');
				$('#name').focus();
			}
		});
		
		// name 유효성검사
		$('#name').blur(function() {
			if($('#name').val().length < 1) { // $('#name').val == ''
				$('#nameMsg').text('이름을 입력하세요');
				$('#name').focus();
			} else {
				$('nameMsg').text('');
				$('#birth').focus();
			}
		});
		
		// birth 유효성검사
		$('#birth').blur(function() {
			if($('#birth').val().length < 1) { // $('#name').val == ''
				$('#birthMsg').text('날짜를 입력하세요'); 
				$('#birth').focus();
			} else {
				$('birthMsg').text(''); 
				let today = new Date();
				let todayYear = today.getFullYear(); // 오늘 연도 
				let birthYear = $('#birth').val().substring(0, 4); // $(this).val().substring(0, 4);
				console.log($('#birth').val().substring(0, 4));
				let age = todayYear - Number(birthYear); // todayYear는 숫자
				$('#age').val(age);
				$('#email').focus(); // radio 와 checkbox는 포커스를 받지 못한다
			}
		});
		
		// email 유효성 체크
		$('#email').blur(function() {
			if($('#email').val() == '') {
				$('#nameMsg').text('email을 입력하세요');
				$('#name').focus();
			} else {
				$('nameMsg').text('');
				$('#birth').focus();
			}
		});
		
		$('#name').blur(function() {
			if($('#name').val().length < 1) { 
				$('#nameMsg').text('이름을 입력하세요');
				$('#name').focus();
			} else {
				$('nameMsg').text('');
				$('#birth').focus();
			}
		});
		
		//signinBtn click + gender 선택 유무 + hobby 선택 유무 체크
		$('#signinBtn').click(function() {
			// 
			if(allCheck == false) { // if(!allCheck) 
				
			}
			
			if($('.gender : checked').length == 0) {
				$('#genderMsg').text('성별을 선택하세요');
				return false; 
			} else {
				$('#genderMag').text('');
			}
			if($('.hobby : checked').length == 0) {
				$('#hobbyMsg').text('하나 이상의 취미를 선택하세요');
				return;
			}
			$('#')
		})
	});
</script>
</head>
<body>
    <h2>회원가입</h2>
    <form id = "" action = "/js1219/signinAction.jsp">
	    <table border="1">
	        <!-- 아이디 -->
	       <tr>
	           <td>아이디</td>
	           <td>
	           		<input type="text" id = "id">
	           			<span id = "idMsg" class = "msg">
	           			</span>
	           	</td>
	       </tr>
	       <!-- 비밀번호 -->
	       <tr>
	           <td>
	               <div>비밀번호</div>
	               <div>비밀번호확인</div>
	           </td>
	           <td>
	               <div>
	               		<input type="password" id = "pw">
	               		<span id = "pwMsg" class = "msg"></span>
	               </div>
	               <div>
	               		<input type="password" id = "pwck">
	               		<span id = "pwMsg" class = "msg"></span>
	               </div>
	           </td>
	       </tr>
	       <!-- 이름 -->
	       <tr>
	           <td>이름</td>
	           <td>
	           		<input type="text" id = "name">
	           		<span id = "nameMsg" class = "msg"></span>
	           </td>
	       </tr>
	       <!-- 생일 -->
	       <tr>
	           <td>생일</td>
	           <td>
	           		<input type="date" id = "birth">
	           		<span id = "birthMsg" class = "msg"></span>
	           </td>
	       </tr>
	       <!-- 나이 -->
	       <tr>
	           <td>나이</td>
	           <td><input type="number" id = "age" readonly = "readonly"></td>
	       </tr>
	       <!-- 성별 -->
	       <tr>
	           <td>성별</td>
	           <td>
	               <input type="radio" name="gender" class = "gender">남
	               <input type="radio" name="gender" class = "gender">여
	           </td>
	       </tr>
	       <!-- 취미 -->
	       <tr>
	           <td>성별</td>
	           <td>
	               <input type="checkbox" name="hobby" class = "hobby">여행
	               <input type="checkbox" name="hobby" class = "hobby">게임
	               <input type="checkbox" name="hobby" class = "hobby">등산
	           </td>
	       </tr>
	       <!-- 메일주소 -->
	       <tr>
	           <td>메일</td>
	           <td>
	               <span><input type="text" id = "email"></span>
	               <span>@</span>
	               <select id = "emailUrl">
	                   <option value = "">선택</option>
	                   <option value = "naver.com">naver.com</option>
	                   <option value = "daum.net">daum.net</option>
	                   <option value = "gmail.com">gmail.com</option>
	               </select>
	               <span id = "emailMsg" class = "msg"></span>
	           </td>
	       </tr>
	       <!-- 메모 -->
	        <tr>
	            <td>메모</td>
	            <td>
	                <textarea cols="50" rows="5"></textarea>
	            </td>
	        </tr>
	    </table>
	    <button type="button" id = "signinBtn">회원가입</button>
	    <button type="reset">초기화</button> <!-- 자기가 포함된 form 안의 input들을 초기화시켜줌 -->
	</form>
</body>
</html>